<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" , initial-scale="1.0" />
    <script
      src="https://kit.fontawesome.com/a6977c8837.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="../style/rose-pine.css" />
    <link
      rel="preload"
      href="../fonts/wotfard-regular-webfont.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <script>
      src = "https://kit.fontawesome.com/a6977c8837.js";
      crossorigin = "anonymous";
    </script>
    <title>Portfolio Website</title>
  </head>
  <body>
    <header id="header">
      <nav class="navbar">
        <a href="../index.html" class="logo">Kevin</a>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="../index.html" class="nav-link">Home</a>
          </li>
          <li class="nav-item">
            <a href="about.html" class="nav-link">About</a>
          </li>
          <li class="nav-item">
            <a href="foundations.html" class="nav-link">Foundations</a>
          </li>
          <li class="nav-item">
            <a href="projects.html" class="nav-link">Projects</a>
          </li>
          <li class="nav-item">
            <a href="contact.html" class="active nav-link">Contact</a>
          </li>
        </ul>
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
      </nav>
    </header>
    <main>
      <div class="form-body">
        <div class="form-container">
          <h4>Contact</h4>
          <form id="form">
            <div class="form-group">
              <label for="Name" class="form-label" for="name">Your name</label>
              <div class="input-group">
                <input type="text" class="name" name="name" required />
              </div>
            </div>

            <div class="form-group">
              <label for="Email" class="form-label" for="email"
                >Your email address</label
              >
              <div class="input-group">
                <input type="email" class="email" name="email" required />
              </div>
            </div>

            <div class="form-group">
              <label for="Message" class="form-label" for="message"
                >Your message</label
              >
              <div class="input-group">
                <textarea
                  class="message"
                  name="message"
                  rows="6"
                  maxlength="3000"
                  required
                ></textarea>
              </div>
            </div>
            <p id="form-status"></p>
            <div class="form-group">
              <button type="submit" class="btn btn-primary btn-lg btn-block">
                Send Message
              </button>
            </div>
            <div class="form-group">
              <hr class="hr-text"/>
              <h4 class="contact-link-title">Let's connect</h24>
              <div class="link-container">
                <a
                  href="https://www.linkedin.com/in/kevin-lapointe-4928882ba/"
                  target="_blank"
                  class="links"
                  >Linkedin</a
                >
                <a
                  href="https://github.com/lapointek"
                  target="_blank"
                  class="links"
                  >Github</a
                >
              </div>
            </div>
          </form>
        </div>
      </div>
    </main>
    <footer class="footer">
      <div class="footer-container">
        <div class="social-icons">
          <a
            href="https://www.linkedin.com/in/kevin-lapointe-4928882ba/"
            target="_blank"
            ><i class="fa-brands fa-linkedin"></i
          ></a>
          <a href="https://github.com/lapointek" target="_blank"
            ><i class="fa-brands fa-github"></i
          ></a>
        </div>
        <p class="footer-name">Â© Kevin Lapointe</p>
      </div>
    </footer>
    <script src="../scripts/main.js"></script>
    <script type="module">
      const form = document.getElementById("form");
      const status = document.getElementById("form-status");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const data = {
          name: form.name.value,
          email: form.email.value,
          message: form.message.value,
        };

        const url = "https://formspree.io/f/xvzzrbzv";
        try {
          const response = await fetch(url, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },

            body: JSON.stringify(data),
          });

          if (response.ok) {
            status.textContent = "Message sent successfully!";
            form.reset();
          } else {
            status.textContent = "Something went wrong. Try again.";
          }
        } catch (error) {
          status.textContent = " Network error. Try later.";
        }
      });
    </script>
  </body>
</html>
